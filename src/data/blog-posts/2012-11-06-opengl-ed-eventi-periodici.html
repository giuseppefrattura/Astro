---
layout: post
status: publish
published: true
title: OpenGL ed eventi periodici
date: '2012-11-06 13:12:32 +0100'
categories:
- OpenGL
tags:
- glut
- OpenGL
comments: []
---
<p>Continua la serie di guide sulla programmazione OpenGL, oggi voglio parlarti della funzione timerFunc della libreria Glut. Questa funzione permette di eseguire una funzione in modo periodico, il suo funzionamento non &egrave; per&ograve; banale.</p>
<!--more-->
Creiamo prima il main della funzione

{% highlight html linenos %}
int main(int argc, char** argv)&nbsp;{
  glutInit(&amp;argc, argv);
  glutInitDisplayMode(GLUT_RGB);
  glutInitWindowPosition(300, 300);
  glutInitWindowSize(500, 500);
  glutCreateWindow("GiuseppeFrattura.it");
  glClearColor(0.0, 0.0, 0.0, 1.0);
  glutDisplayFunc( redraw );
  glutTimerFunc(1000, funzionePeriodica, 0);
  glutMainLoop();
}
{% endhighlight %}
<p>
<strong>glutTimerFunc</strong> prende in input un numero che rappresenta i millisecond da aspettare prima di lanc la funzionePeriodica, il suo secondo parametro, e come terzo parametro in intero da passare a quest&rsquo;ultima. Scritto cos&igrave; il programma eseguir&agrave; solo una volt ail codice all&rsquo;interno della &ldquo;funzionePeriodica&rdquo;, per eseguire il codice della funzione in maniera periodica &egrave; necessario reinserire la chiamata alla funzione &ldquo;glutTimerFunc(1000, funzionePeriodica, 0)&rdquo; all&rsquo;interno di funzionePeriodica.
</p>

Ecco un esempio di come ho usato una funzione perdiodica

{% highlight html linenos %}
void funzionePeriodica(int x){
conta++;
alpha=alpha-30;
if (conta>12) {
beta=beta-30;
conta=1;
}
glutPostRedisplay();
glutTimerFunc(1000, funzionePeriodica, 0);
}
{% endhighlight %}

<p>
La funzione &ldquo;glutPostRedisplay()&rdquo; serve ad aggiornare quanto mostrato sullo schermo, nel mio caso cambio l&rsquo;angolo di rotazione di una linea create nella funzione redraw.</p>
